<div
  class="mx-auto mt-16 flex h-full w-72 flex-col gap-3 rounded-md p-5 shadow-3xl md:w-96 lg:w-1/3">
  <!-- sign up header -->
  <div class="flex flex-row content-center">
    <a routerLink="/" class="inline-flex self-center text-red-700">
      <arrow-left-outline-icon></arrow-left-outline-icon>
    </a>

    <h2 class="grow self-center pr-7 text-center text-xl font-medium">
      Sign up
    </h2>
  </div>

  <form [formGroup]="form" class="flex flex-col gap-3" (ngSubmit)="onSubmit()">
    <section class="flex gap-2">
      <div class="w-full">
        <label for="firstname" class="mb-2 block text-sm font-medium">
          First Name
        </label>
        <input
          id="firstname"
          type="text"
          autocomplete="on"
          class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-red-700 focus:ring-red-700"
          formControlName="firstname" />
        <p
          *ngIf="
            form.controls.firstname.invalid && form.controls.firstname.dirty
          "
          class="text-red-600">
          First name is required
        </p>
      </div>

      <div class="w-full">
        <label for="lastname" class="mb-2 block text-sm font-medium">
          Last Name
        </label>
        <input
          id="lastname"
          type="text"
          autocomplete="on"
          class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-red-700 focus:ring-red-700"
          formControlName="lastname" />
        <p
          *ngIf="form.controls.lastname.invalid && form.controls.lastname.dirty"
          class="text-red-600">
          Last name is required
        </p>
      </div>
    </section>

    <div>
      <label for="email" class="mb-2 block text-sm font-medium"> Email </label>
      <input
        id="email"
        type="email"
        autocomplete="on"
        class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-red-700 focus:ring-red-700"
        formControlName="email" />
      <p
        *ngIf="
          form.controls.email.hasError('required') && form.controls.email.dirty
        "
        class="text-red-600">
        Email is required
      </p>
      <p
        *ngIf="
          form.controls.email.hasError('email') && form.controls.email.dirty
        "
        class="text-red-600">
        Invalid email
      </p>
    </div>

    <div>
      <label for="password" class="0 mb-2 block text-sm font-medium">
        Password
      </label>
      <div class="relative">
        <input
          id="password"
          [type]="passwordFieldType"
          autocomplete="on"
          class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-red-700 focus:ring-red-700"
          formControlName="password" />
        <button
          (click)="onTogglePassword()"
          type="button"
          class="absolute top-[0.3rem] right-2 bottom-1.5 rounded-full p-1 text-gray-500 hover:bg-gray-200">
          <eye-solid-icon
            *ngIf="passwordFieldType === 'password'"></eye-solid-icon>
          <eye-slash-solid-icon
            *ngIf="passwordFieldType === 'text'"></eye-slash-solid-icon>
        </button>
      </div>
      <p
        *ngIf="
          form.controls.password.hasError('required') &&
          form.controls.password.dirty
        "
        class="text-red-600">
        Password is required
      </p>
      <p
        *ngIf="
          form.controls.password.hasError('minlength') &&
          form.controls.password.dirty
        "
        class="text-red-600">
        Password must be at least 8 characters
      </p>
    </div>
    <p *ngIf="error" class="inline-flex gap-1 text-red-600">
      <exclamation-circle-solid-icon></exclamation-circle-solid-icon>
      {{ error }}
    </p>
    <p *ngIf="success" class="inline-flex gap-1">
      <check-circle-solid-icon></check-circle-solid-icon>
      {{ success }}
    </p>
    <button
      #submit
      [disabled]="
        (form.invalid && form.dirty) ||
        submitText !== 'Create Account' ||
        success
      "
      type="submit"
      class="w-full rounded-md bg-red-700 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 disabled:cursor-not-allowed disabled:opacity-50 disabled:grayscale">
      {{ submitText }}
    </button>
  </form>
</div>
